angular.module("ui.bootstrap3.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){var t=function(e,t,n){t.removeClass("collapse");t.removeClass("in");t.removeClass("collapsing");t.css({height:n});var r=t[0].offsetWidth;t.addClass("collapse");t.addClass("in");t.addClass("collapsing")};return{link:function(n,r,i){var s,o=!0;n.$watch(function(){return r[0].scrollHeight},function(e){r[0].scrollHeight!==0&&(s||(o?t(n,r,r[0].scrollHeight+"px"):t(n,r,"auto")))});n.$watch(i.collapse,function(e){e?l():f()});var u,a=function(t){u&&u.cancel();u=e(r,t);u.then(function(){u=undefined},function(){u=undefined});return u},f=function(){if(o){o=!1;s||t(n,r,"auto")}else a({height:r[0].scrollHeight+"px"}).then(function(){s||t(n,r,"auto")});s=!1},l=function(){s=!0;if(o){o=!1;t(n,r,0)}else{t(n,r,r[0].scrollHeight+"px");a({height:"0"})}}}}}]);