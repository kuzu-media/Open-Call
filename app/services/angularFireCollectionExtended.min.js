/* Extends AngularFireCollection to better handle collections and add extra functionality *//* global angular */angular.module("firebase").factory("firebaseRefManager",["Firebase",function(e){var t={};return function(n){t[n]||(t[n]=new e(n));return t[n]}}]);angular.module("firebase").factory("angularFireCollectionExtended",["$q","angularFireCollection","$timeout","firebaseRefManager",function(e,t,n,r){var i={},s=function(i){var s={data:[],"private":{deferred:e.defer()}};s.private.promise=s.private.deferred.promise;var o=function(){n(function(){s.data.length>0?s.private.deferred.resolve(s.data):o()})};s.data=t(r(i),function(e){e.val()===null?s.private.deferred.resolve(s.data):o()});s.data.getByKey=function(e,t){for(var n=0,r=s.data.length;n<r;n++)if(s.data[n][e]===t)return s.data[n];return!1};return s};return function(e,t){i[e]||(i[e]=new s(e));typeof t!="undefined"&&(i[e].private.timeout=t);return i[e].private.promise}}]);